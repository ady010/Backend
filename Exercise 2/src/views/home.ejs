<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Feed</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/framer-motion/10.12.13/framer-motion.umd.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Glassmorphism Effect */
      .glass {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      /* Cursor Fluid Motion */
      body {
        cursor: none;
      }
      .cursor {
        position: fixed;
        top: 0;
        left: 0;
        width: 20px;
        height: 20px;
        background: linear-gradient(45deg, #ff4d4d, #4d79ff);
        border-radius: 50%;
        pointer-events: none;
        transform: translate(-50%, -50%);
        animation: cursor-pulse 1.5s infinite;
      }
      @keyframes cursor-pulse {
        0%,
        100% {
          transform: translate(-50%, -50%) scale(1);
        }
        50% {
          transform: translate(-50%, -50%) scale(1.5);
        }
      }

      /* Three.js Background */
      #threejs-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: -10;
        pointer-events: none;
      }
    </style>
  </head>
  <body class="bg-gray-900 text-white relative overflow-x-hidden">
    <div class="cursor"></div>
    <div class="post flex flex-col gap-10 items-center py-10 px-4">
      <!-- Animated Header -->

      <div class="flex justify-between w-full">
        <% name.forEach(user => { %>
          <h2 class="text-transparent text-2xl font-semibold bg-clip-text bg-gradient-to-r from-blue-500 to-purple-500">
            Hii <%= user.name %>
          </h2>
        <% }); %>

        <a
        href="/create-post"
        class="glass w-[10rem] bg-gradient-to-r from-blue-500 to-green-500 text-white font-bold py-2 px-4 rounded-lg shadow-xl hover:scale-105 transition-transform duration-300 flex justify-center items-center"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 mr-2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 4v16m8-8H4"
          />
        </svg>
        Create Post
      </a>
      </div>

      <h1
        class="text-4xl font-bold text-center mb-8 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-pink-500 animate-pulse"
      >
        Your Feed
      </h1>

      <!-- Create Post Button -->


      <!-- User Cards -->
      <% post.forEach(user => { %>
      <div
        class="glass w-[30rem] h-[30rem] p-6 rounded-lg shadow-lg border border-gray-800 flex flex-col items-center animate-fadeIn"
      >
        <img
          src="<%= user.img %>"
          alt="User Image"
          class="w-full h-[19rem] object-cover rounded-md shadow-md"
        />
        <div class="mt-4 w-full">
          <p class="text-sm text-gray-300 mb-4"><%= user.caption %></p>
          <!-- Like Button with Animation -->
          <button
            class="w-full bg-gradient-to-r from-green-400 to-blue-500 text-black font-bold py-2 rounded-lg shadow-lg hover:scale-110 hover:shadow-xl transition-transform duration-300 flex items-center justify-center"
          >
          <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 mr-2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
          />
        </svg>
            Like
          </button>
        </div>
      </div>
      <% }) %>
    </div>

    <!-- Three.js Canvas -->
    <div id="threejs-bg"></div>

    <script>
      // Cursor Fluid Motion
      const cursor = document.querySelector(".cursor");
      document.addEventListener("mousemove", (e) => {
        cursor.style.top = `${e.clientY}px`;
        cursor.style.left = `${e.clientX}px`;
      });

      // Framer Motion Animations
      document.querySelectorAll(".animate-fadeIn").forEach((element, index) => {
        setTimeout(() => {
          element.style.opacity = 1;
          element.style.transform = "translateY(0)";
        }, index * 200);
      });

      // Three.js Animation
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      const renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.getElementById("threejs-bg").appendChild(renderer.domElement);

      const geometry = new THREE.TorusGeometry(10, 3, 16, 100);
      const material = new THREE.MeshStandardMaterial({ color: 0xff6347 });
      const torus = new THREE.Mesh(geometry, material);
      scene.add(torus);

      const light = new THREE.PointLight(0xffffff);
      light.position.set(50, 50, 50);
      scene.add(light);

      camera.position.z = 30;

      function animate() {
        requestAnimationFrame(animate);
        torus.rotation.x += 0.01;
        torus.rotation.y += 0.01;
        renderer.render(scene, camera);
      }
      animate();
    </script>
  </body>
</html>
